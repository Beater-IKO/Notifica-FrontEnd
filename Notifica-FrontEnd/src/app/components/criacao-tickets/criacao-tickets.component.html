<!-- Cabeçalho -->
<header class="header">
  <div class="header-content">
    <div class="logo-section">
      <div class="logo">
        <span class="logo-text">descomplica</span>
      </div>
      <div class="university-info">
        <span class="plus-sign">+</span>
        <span class="uni-text">UniAmérica</span>
        <span class="subtitle">Centro Universitário</span>
      </div>
    </div>

    <div class="user-info">
      <span class="user-name">{{ currentUser }}</span>
      <button class="logout-btn" (click)="logout()">Sair</button>
    </div>
  </div>
</header>

<!-- Container Principal -->
<div class="main-container">
  <!-- Barra Lateral -->
  <aside class="sidebar">
    <nav class="sidebar-nav">
      <button routerLink="/criacao-tickets" class="nav-item active">
        Criar Ticket
      </button>
      <button routerLink="/andamentos" class="nav-item">
        Tickets em andamento
      </button>
      <button routerLink="/finalizados" class="nav-item">
        Finalizados
      </button>
    </nav>

    <div class="sidebar-footer">
      <div class="user-avatar-small">
        <i class="material-icons">account_circle</i>
      </div>
    </div>
  </aside>

  <!-- Área de Conteúdo -->
  <main class="content-area">
    <div class="form-container">
      <h2>Criar Novo Ticket</h2>

      <div class="form-sections">
        <!-- Seleção de Sala -->
        <div class="form-section">
          <h5>Salas</h5>
          <select class="form-select" [(ngModel)]="sala">
            <option value="" disabled selected>Selecione uma sala</option>
            <option *ngFor="let salaOpcao of salas" [value]="salaOpcao.numero">Sala {{ salaOpcao.numero }}</option>
          </select>
        </div>

        <!-- Seleção de Prioridade -->
        <div class="form-section">
          <h5>Grau de prioridade</h5>
          <div class="button-grid">
            <button type="button" class="btn" (click)="selecionarPrioridade('LEVE')"
              [class.btn-success]="prioridade === 'LEVE'"
              [class.btn-outline-success]="prioridade !== 'LEVE'">Leve</button>
            <button type="button" class="btn" (click)="selecionarPrioridade('MEDIO')"
              [class.btn-info]="prioridade === 'MEDIO'" [class.btn-outline-info]="prioridade !== 'MEDIO'">Médio</button>
            <button type="button" class="btn" (click)="selecionarPrioridade('ALTO')"
              [class.btn-warning]="prioridade === 'ALTO'"
              [class.btn-outline-warning]="prioridade !== 'ALTO'">Alto</button>
            <button type="button" class="btn" (click)="selecionarPrioridade('URGENTE')"
              [class.btn-danger]="prioridade === 'URGENTE'"
              [class.btn-outline-danger]="prioridade !== 'URGENTE'">Urgente</button>
          </div>
        </div>

        <!-- Seleção do Tipo de Problema -->
        <div class="form-section">
          <h5>Selecione o tipo do problema</h5>
          <select class="form-select" [(ngModel)]="tipoSelecionado" (change)="selecionarTipo($event)">
            <option value="" disabled selected>Selecione o tipo de problema</option>
            <option *ngFor="let tipo of tipoProblemas" [value]="tipo.nome">{{ tipo.nome }}</option>
          </select>
        </div>

        <!-- Descrição -->
        <div class="form-section">
          <h5>Descrição adicional</h5>
          <div class="form-outline">
            <textarea class="form-control" rows="4" maxlength="200" [(ngModel)]="problema"></textarea>
            <div class="char-counter">{{ problema.length || 0 }}/200</div>
          </div>
        </div>

        <!-- Upload de Imagem -->
        <div class="form-section">
          <h5>Selecione uma imagem</h5>
          <input class="form-control" type="file" accept="image/*">
        </div>

        <!-- Botão de Envio -->
        <div class="form-section">
          <button type="button" class="btn btn-primary btn-lg" (click)="criarTicket()">Enviar Ticket</button>
        </div>
      </div>
    </div>
  </main>
</div>