<!-- Cabeçalho -->
<header class="header">
  <div class="header-content">
    <div class="logo-section">
      <div class="logo">
        <span class="logo-text">descomplica</span>
      </div>
      <div class="university-info">
        <span class="plus-sign">+</span>
        <span class="uni-text">UniAmérica</span>
        <span class="subtitle">Centro Universitário</span>
      </div>
    </div>

    <div class="user-info">
      <span class="user-name">{{ currentUser }}</span>
      <button class="logout-btn" (click)="logout()">Sair</button>
    </div>
  </div>
</header>

<!-- Container Principal -->
<div class="main-container">
  <!-- Barra Lateral -->
  <aside class="sidebar">
    <nav class="sidebar-nav">

      <button routerLink="/criacao-tickets" class="nav-item">
        Visualizar Chamados
      </button>

      <button routerLink="/andamentos" class="nav-item">
        Histórico de chamados
      </button>

      <button routerLink="/finalizados" class="nav-item">
        Finalizados
      </button>

      <button routerLink="/historico" class="nav-item">
        Protocolos
      </button>

      <button (click)="voltar()" class="nav-item">
        ← Voltar
      </button>

    </nav>

    <div class="sidebar-footer">
      <div class="user-avatar-small">
        <i class="material-icons">account_circle</i>
      </div>
    </div>
  </aside>

  <!-- Área de Conteúdo -->
  <main class="content-area">

    <div class="visualizar-chamados-container">

      <!-- Lista de Tickets -->
      <div class="lista-chamados">
        <div 
          class="card-chamado"
          *ngFor="let chamado of chamados"
          (click)="selecionarChamado(chamado)"
          [class.selecionado]="chamado === chamadoSelecionado">

          <div class="cabecalho">
            <span>{{ chamado.area }}</span>
            <span>#{{ chamado.id }}</span>
          </div>

          <div class="conteudo">
            <p>{{ chamado.problema }}</p>
            <small>{{ chamado.andar }} • {{ chamado.local }} • {{ chamado.sala }}</small>
          </div>

          <div class="prioridade" [ngClass]="chamado.prioridade.toLowerCase()">
            {{ chamado.prioridade }}
          </div>

        </div>
      </div>

      <!-- Detalhes do Ticket -->
      <div class="detalhes-chamado" *ngIf="chamadoSelecionado">

        <h2>{{ chamadoSelecionado.problema }}</h2>

        <div class="info">
          <div><strong>Sala:</strong> {{ chamadoSelecionado.sala }}</div>
          <div><strong>Andar:</strong> {{ chamadoSelecionado.andar }}</div>
          <div><strong>Área:</strong> {{ chamadoSelecionado.area }}</div>
          <div><strong>Prioridade:</strong> {{ chamadoSelecionado.prioridade }}</div>
        </div>

        <div class="descricao">
          <p>{{ chamadoSelecionado.descricao }}</p>
        </div>

        <button class="btn-material" (click)="abrirModal()">Requerir materiais</button>

      </div>

    </div>

  </main>
</div>
